<!-- Add filter params to links that apply filters on page load - pt. 2--><script>
const filterTriggers = [
 {
   wrapperClass: '.filters-colors',
   buttonsClass: '.sort-button'
 },
 {
   wrapperClass: '.filters-services',
   buttonsClass: '.sort-button'
 }
]

// Get params from the URL
var getParamsArray = function (url) {
var params = {};
var parser = document.createElement('a');
parser.href = url;
var query = parser.search.substring(1);
var vars = query.split('&');
for (var i = 0; i < vars.length; i++) {
var pair = vars[i].split('=');
params[pair[0]] = decodeURIComponent(pair[1]);
 }

 const valuesArray = Object.values(params);
return valuesArray;
};
const filterArrays = getParamsArray(window.location.href);// If there are filter params

if(filterArrays) {
// For each filterArray item
 for (const filterParam of filterArrays) {
   // For each defined trigger
   for (const singleTrigger of filterTriggers) {
      const elems = document.querySelector(singleTrigger.wrapperClass);
      buttons = elems.querySelectorAll(singleTrigger.buttonsClass);
     // If button exists get the button
     filterButton = Array.from(buttons).find(v => v.innerText.toLowerCase() === filterParam.toLowerCase());
     // If the button exists, click it
     if (filterButton) { filterButton.click(); }
   }
}
}
</script>